# QB Trading System - 실제 거래 테스트 가이드

## 🎯 목표
내일 장 개장 시간에 QB Trading System으로 실제 소액 거래를 수행하여 전체 시스템 검증

## 📋 사전 준비 체크리스트

### 1. KIS API 설정 확인
- [ ] KIS 계좌 로그인 확인
- [ ] API 키 발급 및 활성화 상태 확인
- [ ] 모의투자 vs 실제투자 모드 확인
- [ ] 거래 가능 잔고 확인 (최소 100,000원 권장)

### 2. 환경 설정 확인
```bash
# 환경 변수 확인
cat .env.development

# 필수 환경 변수
KIS_APP_KEY=실제_앱키
KIS_APP_SECRET=실제_시크릿키  
KIS_ACCOUNT_NO=실제_계좌번호
```

### 3. 시스템 인프라 확인
```bash
# PostgreSQL 실행 확인
sudo systemctl status postgresql  # Linux
brew services list | grep postgresql  # macOS

# Redis 실행 확인
redis-cli ping  # PONG 응답 확인

# Python 환경 확인
/Users/dongwon/anaconda3/envs/qb/bin/python --version
```

### 4. 테스트 계좌 설정
- [ ] 소액 거래용 별도 계좌 사용 권장
- [ ] 일일 거래 한도 설정 (예: 최대 10만원)
- [ ] 손절매 설정 확인 (기본: 3%)

## ⏰ 거래 시간별 실행 계획

### 08:30 - 시스템 사전 점검
1. 인프라 상태 확인
2. API 연결 테스트
3. 오프라인 테스트 1회 실행

### 09:00 - 장 개장, 시스템 시작
1. 실제 거래 시스템 실행
2. 실시간 데이터 수신 확인
3. 전략 신호 모니터링

### 09:00-12:00 - 오전 거래
- 삼성전자(005930) 1주 매매 테스트
- 실시간 모니터링 및 로그 확인

### 12:00-13:00 - 점심 휴식
- 오전 거래 결과 분석
- 시스템 상태 점검

### 13:00-15:30 - 오후 거래  
- 추가 소액 거래 (선택)
- 시스템 안정성 확인

### 15:30 - 장 마감, 결과 분석
- 전체 거래 결과 리포트
- 시스템 성능 분석
- 개선점 도출

## 🚨 비상 대응 계획

### 시스템 오류 발생 시
1. 즉시 자동 거래 중단
2. 수동으로 열린 포지션 정리
3. 로그 분석 및 원인 파악

### API 연결 장애 시
1. 백업 API 키 사용
2. 수동 거래로 전환
3. 시스템 재시작

### 예상치 못한 손실 발생 시
1. 손절매 즉시 실행
2. 거래 중단
3. 원인 분석

## 📊 성공 기준

### 기술적 성공
- [ ] 시스템 24시간 무중단 운영
- [ ] API 응답 시간 < 1초
- [ ] 메모리 사용량 < 1GB
- [ ] 이벤트 처리 속도 > 100/sec

### 비즈니스 성공
- [ ] 주문 체결 성공률 > 95%
- [ ] 실시간 데이터 수신 정상
- [ ] 전략 신호 생성 정상
- [ ] 리스크 관리 정상 작동

## 📝 기록해야 할 데이터

### 거래 기록
- 주문 시간, 체결 시간, 체결 가격
- 수수료, 슬리피지
- 실현 손익

### 시스템 성능
- CPU, 메모리 사용량
- API 응답 시간
- 이벤트 처리량

### 오류 및 예외 상황
- 에러 로그
- 복구 시간
- 대응 조치

## 🎯 다음 단계 계획

### 성공 시
1. 거래 규모 점진적 확대
2. 추가 전략 구현
3. 리스크 관리 고도화

### 실패 시
1. 문제점 상세 분석
2. 시스템 개선
3. 재테스트 계획 수립